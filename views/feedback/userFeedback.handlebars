<!--- Style For Rating Button--->
<style>
    .rating {
        display: inline-block;
        position: relative;
        height: 50px;
        line-height: 50px;
        font-size: 50px;
    }

    .rating label {
        position: absolute;
        top: 0;
        left: 0;
        height: 100%;
    }

    .rating label:last-child {
        position: static;
    }

    .rating label:nth-child(1) {
        z-index: 5;
    }

    .rating label:nth-child(2) {
        z-index: 4;
    }

    .rating label:nth-child(3) {
        z-index: 3;
    }

    .rating label:nth-child(4) {
        z-index: 2;
    }

    .rating label:nth-child(5) {
        z-index: 1;
    }

    .rating label input {
        position: absolute;
        top: 0;
        left: 0;
        opacity: 0;
    }

    .rating label .icon {
        float: left;
        color: transparent;
    }

    .rating label:last-child .icon {
        color: rgb(255, 217, 0);
    }

    .rating:not(:hover) label input:checked~.icon,
    .rating:hover label:hover input~.icon {
        color: rgb(255, 217, 0);
    }

    .rating label input:focus:not(:checked)~.icon:last-child {
        color: rgb(255, 217, 0);
        text-shadow: 0 0 5px rgb(255, 217, 0);
    }
</style>

<div class="container">
    {{#if feedback}}
    <div class="card card-body">
        <h3 class="text-primary">Reviews</h3>
        <a href="/reviews/addFeedback" class="btn btn-info btn-block my-2">Add Feedback</a>
        {{#each feedback}}
        <div class="card border-primary mb-2 w-100 mx-auto">
            <div class="card-header">
                <h5 class="card-title">{{ name }}</h5>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-sm-12 col-md-12 col-lg-3">
                        <p class="font-italic">Rating</p>
                        <div class="rating">
                            {{#ifEquals rating 1}}
                            <label>
                                <span class="icon">★</span>
                                <span class="icon" style="color: #000;">★</span>
                                <span class="icon" style="color: #000;">★</span>
                                <span class="icon" style="color: #000;">★</span>
                                <span class="icon" style="color: #000;">★</span>
                            </label>
                            {{/ifEquals}}
                            {{#ifEquals rating 2}}
                            <label>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon" style="color: #000;">★</span>
                                <span class="icon" style="color: #000;">★</span>
                                <span class="icon" style="color: #000;">★</span>
                            </label>
                            {{/ifEquals}}
                            {{#ifEquals rating 3}}
                            <label>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon" style="color: #000;">★</span>
                                <span class="icon" style="color: #000;">★</span>
                            </label>
                            {{/ifEquals}}
                            {{#ifEquals rating 4}}
                            <label>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon" style="color: #000;">★</span>
                            </label>
                            {{/ifEquals}}
                            {{#ifEquals rating 5}}
                            <label>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                                <span class="icon">★</span>
                            </label>
                            {{/ifEquals}}
                        </div>
                    </div>
                    <div class="card-body">
                        <p style="font-weight: bold;">Additional Comments</p>
                        <p>{{addComments}}</p>
                    </div>
                    <div class="col-lg-2">
                        <p>
                            <a href="/reviews/editFeedback/{{id}}" class="card-link mb-2">
                                <i class="fas fa-pencil-alt"></i>
                                Edit
                            </a>
                        </p>
                        <p>
                            <a href="/reviews/deleteFeedback/{{id}}" class="card-link" data-toggle="confirmation"
                                data-title="Confirm delete?">
                                <i class="far fa-trash-alt"></i>
                                Delete
                            </a>
                        </p>
                    </div>
                </div>
            </div>

        </div>
        {{/each}}
        {{else}}
        <h3>No Feedbacks Added!</h3>
        <a href="/reviews/addFeedback" class="btn btn-info btn-block my-2">Add Feedback</a>
        {{/if}}
    </div>
</div>

<script>
    $('[data-toggle=confirmation]').confirmation({
        rootSelector: '[data-toggle=confirmation]',
    });
</script>